<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>WCS technical doc /Doc technique du WCS - MSC Open Data / Données ouvertes du SMC</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../css/extra.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">MSC Open Data / <br>Données ouvertes du SMC</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../msc-data/readme_en/" class="nav-link">Available data /<br>Données disponibles</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Data access /<br>Accès aux données <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../readme_en/" class="dropdown-item">MSC GeoMet /<br>GeoMet du SMC</a>
</li>
                                    
<li>
    <a href="../../msc-datamart/readme_en/" class="dropdown-item">MSC Datamart /<br>Datamart du SMC</a>
</li>
                                    
<li>
    <a href="../../cost-recovered/readme_en/" class="dropdown-item">Cost-recovered services /<br>Services à recouvrement de coûts</a>
</li>
                                    
<li>
    <a href="../../msc-animet/readme_en/" class="dropdown-item">MSC AniMet /<br>AniMet du SMC</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Usage and tutorials / <br>Utilisation et tutoriels <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../usage/readme_en/" class="dropdown-item">Usage overview/<br>Aperçu de l'utilisation</a>
</li>
                                    
<li>
    <a href="../../usage/tutorials_en/" class="dropdown-item">Access tutorials /<br>Accéder aux tutoriels</a>
</li>
                                    
<li>
    <a href="../wms_en/" class="dropdown-item">WMS technical doc /<br>Doc technique du WMS</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">WCS technical doc /<br>Doc technique du WCS</a>
</li>
                                    
<li>
    <a href="../ogc_api_en/" class="dropdown-item">OGC API technical doc /<br>Doc technique de l'OGC API</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="https://weather.gc.ca/mainmenu/contact_us_e.html" class="nav-link">Contact us /<br>Contactez-nous</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search /<br> <i class="fa fa-fw"></i>Rechercher
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../wms_en/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../ogc_api_en/" class="nav-link">
                                    <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#web-coverage-service-wcs" class="nav-link">Web Coverage Service (WCS)</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#wcs-getcapabilities" class="nav-link">WCS GetCapabilities</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#wcs-describecoverage" class="nav-link">WCS DescribeCoverage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#wcs-getcoverage" class="nav-link">WCS GetCoverage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#handling-time" class="nav-link">Handling time</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#usage-example" class="nav-link">Usage example</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p><a href="../wcs_fr/">En français</a></p>
<p><img alt="ECCC logo" src="../../img_eccc-logo.png" /></p>
<p><a href="../../readme_en/">TOC</a> &gt; <a href="../readme_en/">MSC GeoMet</a> &gt; WCS</p>
<h1 id="web-coverage-service-wcs">Web Coverage Service (WCS)</h1>
<p>The <a href="https://www.opengeospatial.org/standards/wcs">OGC Web Coverage Service</a> requests enable a client to retrieve coverage information from a geospatial data for a given area of interest. WCS requests are made over the internet (HTTP) and give the user more flexibility when requesting information about the coverage of a layer compared with the more traditional way of downloading of flat files. The Web Coverage Service allows for several different types of requests, each of which are described in further detail below.</p>
<p>Note that only the WCS 2.0.1 version is currently supported by the GeoMet services. We invite users to use exclusively version 2.0.1 of the WCS standard. Also, note that WCS 2.0.1 is not supported in QGIS and ArcGIS.</p>
<p>The Web Coverage Service allows for several different types of request types, each of which are described in further detail below:</p>
<ul>
<li>GetCapabilities</li>
<li>DescribeCoverage</li>
<li>GetCoverage</li>
<li>GetLegendGraphic
</br></br></li>
</ul>
<h2 id="wcs-getcapabilities">WCS GetCapabilities</h2>
<p>A WCS GetCapabilities request allows the client to retrieve an XML document that contains metadata describing the service. This document contains information relating to the supported request types, supported coordinate reference systems, and most importantly, the layers (data) for which clients can request raw data.</p>
<p>A GetCapabilities request is comprised of the following parameters:</p>
<table>
<thead>
<tr>
<th>Required parameters</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVICE</td>
<td>The service the client is requesting. In this case, <code>wcs</code></td>
</tr>
<tr>
<td>VERSION</td>
<td>The version of the service the client is requesting. We recommend using the supported version, WCS version <code>2.0.1</code></td>
</tr>
<tr>
<td>REQUEST</td>
<td>The request type. In this case, <code>GetCapabilities</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Optional parameter</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>COVERAGEID</td>
<td>A vendor extension that allows a client to filter the GetCapabilities document for a single named layer. This greatly reduces the size of the returned XML document</td>
</tr>
<tr>
<td>LANG</td>
<td>A vendor extension that allows a client to display the GetCapabilities document in English(en) or French(fr). Defaults to English if the parameter is not included in the request</td>
</tr>
</tbody>
</table>
<p>A WCS GetCapabilities request to MSC GeoMet would then be constructed
like this:</p>
<p><a href="https://geo.weather.gc.ca/geomet?SERVICE=WCS&amp;VERSION=2.0.1&amp;REQUEST=GetCapabilities">https://geo.weather.gc.ca/geomet?SERVICE=WCS&amp;VERSION=2.0.1&amp;REQUEST=GetCapabilities</a></p>
<p>The GetCapabilities document will have information relating to the service's name and title, geographic extent, available layers and available format.</p>
<p></br></br></p>
<h2 id="wcs-describecoverage">WCS DescribeCoverage</h2>
<p>A WCS DescribeCoverage request allows the user to access more information about a given layer than using the <a href="#wcsgetcap">WCS GetCapabilities</a>. Information in the DescribeCoverage request includes: extent, CRS, available format</p>
<table>
<thead>
<tr>
<th>Required parameters</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVICE</td>
<td>The service the client is requesting. In this case, <code>wcs</code>.</td>
</tr>
<tr>
<td>VERSION</td>
<td>The version of the service the client is requesting. We recommend using the latest WCS version <code>2.0.1</code></td>
</tr>
<tr>
<td>REQUEST</td>
<td>The request type. In this case, <code>DescribeCoverage</code>.</td>
</tr>
<tr>
<td>COVERAGEID</td>
<td>The name of the layer for which to return the metadata. The name of the layer can be retrieved using a <a href="#wcs-getcapabilities">WCS GetCapabilities</a> request</td>
</tr>
</tbody>
</table>
<p>A WCS DescribeCoverage request to GeoMet-Weather for the GDPS.ETA_TT layer would then be constructed like this:</p>
<p><a href="https://geo.weather.gc.ca/geomet?SERVICE=WCS&amp;VERSION=2.0.1&amp;REQUEST=DescribeCoverage&amp;COVERAGEID=GDPS.ETA_TT">https://geo.weather.gc.ca/geomet?SERVICE=WCS&amp;VERSION=2.0.1&amp;REQUEST=DescribeCoverage&amp;COVERAGEID=GDPS.ETA_TT</a></p>
<p></br></br></p>
<h2 id="wcs-getcoverage">WCS GetCoverage</h2>
<p>A WCS GetCoverage request is used to retrieve the actual coverage information (raw data). The most interesting aspect for a user is to be able to request a subdomain of a layer in the projection he wants and in the format he wants with the possibility to obtain the layer in a different spatial resolution and file format from the original one.</p>
<table>
<thead>
<tr>
<th>Required parameters</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>SERVICE</td>
<td>The service the client is requesting. In this case, <code>wcs</code>.</td>
</tr>
<tr>
<td>VERSION</td>
<td>The version of the service the client is requesting. We recommend using the latest WCS version <code>2.0.1</code></td>
</tr>
<tr>
<td>REQUEST</td>
<td>The request type. In this case, <code>GetCoverage</code>.</td>
</tr>
<tr>
<td>COVERAGEID</td>
<td>The name of the layer for which to return the coverage information.</td>
</tr>
<tr>
<td>FORMAT</td>
<td>The file format desired for the requested coverage. Accepted values for this parameter are: <code>image/tiff</code> (GeoTIFF) or <code>image/netcdf</code> (NetCDF).</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Optional parameter</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>SUBSETTINGCRS</td>
<td>The coordinate reference system (CRS) used to request the coverage layer to the server</td>
</tr>
<tr>
<td>OUTPUTCRS</td>
<td>The coordinate reference system (CRS) used to return the coverage layer to the user. This parameter can be different from <code>SUBSETTINGCRS</code>. Note: The use of this parameter is <strong>strongly recommended</strong> to guarantee accuracy for <code>WCS GetCoverage</code> responses.</td>
</tr>
<tr>
<td>SUBSET=axis()</td>
<td>The bounding box of the requested coverage per axis. One can use one of the recognize axis sub-parameter:  <code>x</code>, <code>xaxis</code>, <code>x-axis</code>, <code>x_axis</code>, <code>long</code>, <code>long_axis</code>, <code>long-axis</code>, <code>lon</code>, <code>lon_axis</code>, <code>lon-axis</code>, <code>y</code>, <code>yaxis</code>, <code>y-axis</code>, <code>y_axis</code>, <code>lat</code>, <code>lat_axis</code> and <code>lat-axis</code>. Coordinates should be in the units of the SUBSETTINGCRS. The request's subset must cover a part of the request layer's geographic extent</td>
</tr>
<tr>
<td>RESOLUTION=axis()</td>
<td>Resolution (pixel/unit) per axis of the returned coverage to the user. If none is set, the coverage resolution returned might not be the one of the original data, thus it is recommended to specify the spatial resolution in the request. Note that <code>RESOLUTION</code> and <code>SIZE</code> are mutually exclusive on one axis and should never be used for the same axis in the same request</td>
</tr>
<tr>
<td>SIZE=axis()</td>
<td>Size (pixel) per axis of the returned coverage to the user. If none is set, the coverage size returned might not be the one of the original data, thus it is recommended to specify the spatial resolution in the request. Note that <code>RESOLUTION</code> and <code>SIZE</code> are mutually exclusive on one axis and should never be used for the same axis in the same request</td>
</tr>
<tr>
<td>INTERPOLATION</td>
<td>Interpolation method used for the requested coverage when a rescaling is needed. Three method can be used: <code>NEAREST</code>, <code>BILINEAR</code>, <code>AVERAGE</code>. If none is specified, default is <code>NEAREST</code></td>
</tr>
<tr>
<td>RANGESUBSET</td>
<td>This parameter allows the user to specify a band of a coverage layer to be returned. Either the band name or the band number can be used</td>
</tr>
<tr>
<td>TIME</td>
<td>The date and time associated to the requested coverage. The format must respect the ISO8601 standard. For more information regarding managing time in WCS requests, see the <a href="#handling-time">WCS Handling Time</a> section</td>
</tr>
<tr>
<td>DIM_REFERENCE_TIME</td>
<td>The time of the weather model run (when available) to use to generate the requested coverage. The format must respect the ISO8601 standard. For more information regarding managing time in WCS requests, see the <a href="#handling-time">WCS Handling Time</a> section</td>
</tr>
</tbody>
</table>
<p>A WCS GetCoverage request to MSC GeoMet for the GDPS.ETA_TT layer could then be constructed
like this:</p>
<p><a href="https://geo.meteo.gc.ca/geomet?SERVICE=WCS&amp;VERSION=2.0.1&amp;REQUEST=GetCoverage&amp;COVERAGEID=GDPS.ETA_TT&amp;SUBSETTINGCRS=EPSG:4326&amp;SUBSET=x(-120,-85)&amp;SUBSET=y(48,66)&amp;RESOLUTION=x(0.24)&amp;RESOLUTION=y(0.24)&amp;FORMAT=image/tiff">https://geo.meteo.gc.ca/geomet?SERVICE=WCS&amp;VERSION=2.0.1&amp;REQUEST=GetCoverage&amp;COVERAGEID=GDPS.ETA_TT&amp;
SUBSETTINGCRS=EPSG:4326&amp;SUBSET=x(-120,-85)&amp;SUBSET=y(48,66)&amp;RESOLUTION=x(0.24)&amp;
RESOLUTION=y(0.24)&amp;FORMAT=image/tiff</a></p>
<p></br></br></p>
<h2 id="handling-time">Handling time</h2>
<p>Given the important temporal dimension of weather data, it is important for users to understand how MSC GeoMet handles time in WCS requests. By default, if no <code>TIME</code> or <code>DIM_REFERENCE_TIME</code> parameters are passed in the request, MSC GeoMet will, by default, return the closest time interval available for the latest model run.</p>
<p>If the user wants to make a request for another date and time, the <code>TIME</code> or <code>DIM_REFERENCE_TIME</code> can be used in a WCS GetCoverage request. Date and times must adhere to the ISO8601 standard and are always in UTC (Coordinate Universal Time).</p>
<p></br></p>
<h4 id="geomet-climate"><span class="badge badge-light">GeoMet-Climate</span></h4>
<p></br></p>
<p>GeoMet-Climate's WCS service does not support request with <code>TIME</code> or <code>DIM_REFERENCE_TIME</code>. Instead, the WCS time information is stored in different bands, each one representing a particular timestamp. This means that a user will need the <code>RANGESUBSET</code> parameter to access the desired time coverage.</p>
<p>The name of the different bands can be retrieved from the DescribeCoverage request. Here is an example using a GeoMet-Climate layer (DCS.TM.RCP26.YEAR.ANO_PCTL50):</p>
<pre><code>https://geo.weather.gc.ca/geomet-climate?SERVICE=WCS&amp;VERSION=2.0.1
&amp;REQUEST=DescribeCoverage&amp;COVERAGEID=DCS.TM.RCP26.YEAR.ANO_PCTL50
</code></pre>
<pre><code class="language-xml">...
&lt;swe:field name=&quot;B2006&quot;&gt;
    &lt;swe:Quantity&gt;
        &lt;swe:nilValues/&gt;
        &lt;swe:uom code=&quot;W.m-2.Sr-1&quot;/&gt;
        &lt;swe:constraint&gt;
            &lt;swe:AllowedValues&gt;
                &lt;swe:interval&gt;-3.4028e+38 3.4028e+38&lt;/swe:interval&gt;
                &lt;swe:significantFigures&gt;12&lt;/swe:significantFigures&gt;
            &lt;/swe:AllowedValues&gt;
        &lt;/swe:constraint&gt;
    &lt;/swe:Quantity&gt;
&lt;/swe:field&gt;
&lt;swe:field name=&quot;B2007&quot;&gt;
    &lt;swe:Quantity&gt;
        &lt;swe:nilValues/&gt;
        &lt;swe:uom code=&quot;W.m-2.Sr-1&quot;/&gt;
        &lt;swe:constraint&gt;
            &lt;swe:AllowedValues&gt;
                &lt;swe:interval&gt;-3.4028e+38 3.4028e+38&lt;/swe:interval&gt;
                &lt;swe:significantFigures&gt;12&lt;/swe:significantFigures&gt;
            &lt;/swe:AllowedValues&gt;
        &lt;/swe:constraint&gt;
    &lt;/swe:Quantity&gt;
&lt;/swe:field&gt;
&lt;swe:field name=&quot;B2008&quot;&gt;
...
</code></pre>
<p>In this example, the <code>field</code> keys give the user the available band names. In GeoMet-Climate, the bands will always use the same nomenclature which is: <code>B</code> followed by one of the two ISO8601 time format supported: <code>YYYY</code> for annual time interval and <code>YYYY-MM</code> for monthly time interval.</p>
<p>In GeoMet-Climate one can either request coverage for a single time step or for a time range:</p>
<ul>
<li>Single time step: <code>RANGESUBSET=B2015</code></li>
<li>Time range: <code>RANGESUBSET=B2015:B2019</code></li>
</ul>
<p>Note that a user cannot, in a single GetCoverage request, ask for more than 256 bands.
</br></p>
<h4 id="geomet-weather"><span class="badge badge-light">GeoMet-Weather</span></h4>
<p>Please refer to the page <a href="../WMS_en/#handling-time">WMS Handling Time</a> section, as for GeoMet-Weather,
the <code>TIME</code> and <code>DIM_REFERENCE_TIME</code> usage is the same.</p>
<p>Note that the layers time metadata are not available in the WCS GetCapabilities or the WCS DescribeCoverage. The time metadata can only be access through the WMS GetCapabilities.
</br></br></p>
<h2 id="usage-example">Usage example</h2>
<p>GeoMet-Climate and GeoMet-Weather WCS are used through the <a href="https://climate-change.canada.ca/climate-data/#/">Climate data extraction tool</a> of the <a href="https://www.canada.ca/en/environment-climate-change/services/climate-change/canadian-centre-climate-services.html">Canadian Centre for Climate Services portal</a>.</p>
<p>One can select a variable, region of interest, temporal information and output format on the extraction tool to retrieve the raw coverage information.
</br></br></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                    <br>
                    Effectuez une recherche dans la documentation en indiquant les termes désirés ci-après.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

        <!-- Matomo -->
        <script>
            var _paq = window._paq = window._paq || [];
            /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
            _paq.push(['trackPageView']);
            _paq.push(['enableLinkTracking']);
            (function() {
            var u="https://msc-analytics.ca/piwik/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '13']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
            })();
        </script>
        <!-- End Matomo Code -->
    </body>
</html>
